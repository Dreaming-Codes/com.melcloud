<!DOCTYPE html>
<html lang="en">
  <head>
    <title>MELCloud Settings</title>
    <link rel="stylesheet" type="text/css" href="styles.css" />
    <script
      type="text/javascript"
      src="/homey.js"
      data-origin="settings"
    ></script>
    <script src="index.js" defer></script>
  </head>
  <body>
    <header class="homey-header">
      <h1 class="homey-title" data-i18n="settings.title"></h1>
    </header>
    <div id="authenticating" class="hidden">
      <fieldset class="homey-form-fieldset">
        <legend
          class="homey-form-legend"
          data-i18n="settings.authenticate.label"
        ></legend>
        <div class="homey-form-group">
          <label
            class="homey-form-label"
            for="username"
            data-i18n="settings.authenticate.username"
          ></label>
          <input class="homey-form-input" id="username" type="text" value="" />
        </div>
        <div class="homey-form-group">
          <label
            class="homey-form-label"
            for="password"
            data-i18n="settings.authenticate.password"
          ></label>
          <input
            class="homey-form-input"
            id="password"
            type="password"
            value=""
          />
        </div>
        <button
          id="authenticate"
          class="homey-button-primary-full"
          data-i18n="settings.authenticate.button"
        ></button>
      </fieldset>
    </div>
    <div id="authenticated" class="hidden">
      <div id="has-error-log" class="hidden">
        <fieldset class="homey-form-fieldset">
          <legend
            class="homey-form-legend"
            id="error-log"
            data-i18n="settings.error_log.label"
          ></legend>
          <div class="homey-form-group">
            <div class="label-container">
              <label
                class="homey-form-label inline unset-margin-top bolded"
                id="period"
              ></label>
              <label
                class="homey-form-label inline unset-margin-top"
                id="error_count"
              ></label>
            </div>
            <table
              id="error-log-table"
              class="bordered"
              aria-describedby="error-log"
            ></table>
          </div>
          <div class="container">
            <div class="left">
              <button
                id="see"
                class="homey-button-secondary-shadow"
                data-i18n="settings.error_log.see"
              ></button>
            </div>
            <div class="right">
              <label
                class="homey-form-label unset-margin"
                for="since"
                data-i18n="settings.error_log.since"
              ></label>
              <input id="since" type="date" value="" />
            </div>
          </div>
        </fieldset>
      </div>
      <fieldset class="homey-form-fieldset">
        <legend
          class="homey-form-legend"
          data-i18n="settings.buildings.label"
        ></legend>
        <div class="homey-form-group">
          <select class="homey-form-select" id="buildings"></select>
        </div>
        <div class="homey-form-group">
          <label
            class="homey-form-label"
            for="enabled-holiday-mode"
            data-i18n="settings.buildings.holiday_mode.enabled"
          ></label>
          <select class="homey-form-select" id="enabled-holiday-mode">
            <option value="false" data-i18n="settings.boolean.false"></option>
            <option value="true" data-i18n="settings.boolean.true"></option>
          </select>
        </div>
        <div class="homey-form-group">
          <label
            class="homey-form-label"
            for="start-date"
            data-i18n="settings.buildings.holiday_mode.start_date"
          ></label>
          <input id="start-date" type="datetime-local" value="" />
        </div>
        <div class="homey-form-group">
          <label
            class="homey-form-label"
            for="end-date"
            data-i18n="settings.buildings.holiday_mode.end_date"
          ></label>
          <input id="end-date" type="datetime-local" value="" />
        </div>
        <div class="container">
          <button
            id="refresh-holiday-mode"
            class="homey-button-secondary-shadow"
            data-i18n="settings.buildings.refresh"
          ></button>
          <button
            id="update-holiday-mode"
            class="homey-button-danger-shadow"
            data-i18n="settings.buildings.update"
          ></button>
        </div>
        <div class="homey-form-group">
          <label
            class="homey-form-label"
            for="enabled-frost-protection"
            data-i18n="settings.buildings.frost_protection.enabled"
          ></label>
          <select class="homey-form-select" id="enabled-frost-protection">
            <option value="false" data-i18n="settings.boolean.false"></option>
            <option value="true" data-i18n="settings.boolean.true"></option>
          </select>
        </div>
        <div class="homey-form-group">
          <label
            class="homey-form-label"
            for="min"
            data-i18n="settings.buildings.frost_protection.min"
          ></label>
          <input
            class="homey-form-input"
            id="min"
            type="number"
            inputmode="numeric"
            value="10"
          />
        </div>
        <div class="homey-form-group">
          <label
            class="homey-form-label"
            for="max"
            data-i18n="settings.buildings.frost_protection.max"
          ></label>
          <input
            class="homey-form-input"
            id="max"
            type="number"
            inputmode="numeric"
            value="12"
          />
        </div>
        <div class="container">
          <button
            id="refresh-frost-protection"
            class="homey-button-secondary-shadow"
            data-i18n="settings.buildings.refresh"
          ></button>
          <button
            id="update-frost-protection"
            class="homey-button-danger-shadow"
            data-i18n="settings.buildings.update"
          ></button>
        </div>
      </fieldset>
      <fieldset class="homey-form-fieldset">
        <legend
          class="homey-form-legend"
          data-i18n="settings.devices.label"
        ></legend>
        <div id="settings"></div>
        <button
          id="apply-settings"
          class="homey-button-danger-shadow-full"
          data-i18n="settings.devices.apply.button"
        ></button>
      </fieldset>
      <div id="has-devices-ata" class="hidden">
        <fieldset class="homey-form-fieldset">
          <legend
            class="homey-form-legend"
            data-i18n="settings.devices_ata.label"
          ></legend>
          <label
            class="homey-form-label"
            for="auto_adjust"
            data-i18n="settings.devices_ata.auto_adjust"
          ></label>
          <button
            id="auto_adjust"
            class="homey-button-secondary-shadow-full"
            data-i18n="settings.devices_ata.configure"
          ></button>
          <div class="homey-form-group">
            <fieldset class="homey-form-checkbox-set" id="settings-ata">
              <legend
                class="homey-form-checkbox-set-title"
                id="settings-ata-dashboard"
              ></legend>
            </fieldset>
          </div>
          <button
            id="apply-settings-ata"
            class="homey-button-danger-shadow-full"
            data-i18n="settings.devices.apply.button"
          ></button>
        </fieldset>
      </div>
    </div>
  </body>
</html>
